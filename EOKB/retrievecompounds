#!/bin/bash

url="https://essentialoils.org/api/compound"


for i in $(cat numbers.txt); do
    content="$(curl -s "$url/$i" -H 'Pragma: no-cache' -H 'Accept-Encoding: gzip, deflate, br' -H 'X-CSRF-TOKEN: 8NV1AeoBMWdUKrRz6lz2NnpEbSue0bxmRDMfbw1I' -H 'Accept-Language: en-US,en;q=0.9' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36' -H 'Accept: application/json, text/plain, */*' -H 'Cache-Control: no-cache' -H 'X-Requested-With: XMLHttpRequest' -H 'Cookie: _ga=GA1.2.1214807791.1560433995; _gid=GA1.2.1145865652.1560433995; remember_web_59ba36addc2b2f9401580f014c7f58ea4e30989d=eyJpdiI6IitVZjRmd0xaUWp1NUxOakdqZVwvK2NnPT0iLCJ2YWx1ZSI6InV6NHNVNzRud3BHWlJUaEhlM2lMbzc4ZmZoYldIZDRZZlwvbTNtVHJFOElnc25xcGlqRjMrQTJzSnVveUtWaUpTWmxYQ2dhdlN6VTZoYTU3RzlTRzV5Vms2XC8xNWxYZTQrWjl1YnFrcEdPV2s9IiwibWFjIjoiYWJkNGJhZTNiNmZkM2NjN2IwYWQ1NzQ1MTc3MWNjYjI0NjNmYTRkNDkwZTNhOWEzMTBlOGU4Mzc3ODZjNTg0MSJ9; __stripe_mid=2076486f-bf0b-48c6-af8f-bd5a0d8c8259; laravel_token=eyJpdiI6InpnOGVNcVhiUzJ6UFA3UlNybmlQdGc9PSIsInZhbHVlIjoiK2VrdHJNeVwvekNYaGM3eUJhTmZ6NUJpOHloUWlCd3lWZG9SOVhXeEtwQks4Q1BmUktBTzJkMEFoeU5ackwwdHF5a0dwNW5HUUZFczNmbXF2blR5WWg1YVpHVndWTjVtdDdsSnYzaGF5Nm1ZS3VNSjArRkJtOGRDNmNGcnZOZmxJSEJCMWxcL1pZaUJEWmdxWkt1VFp0R3VNWnpVZVhHclRYY3BrTGRYa1pPY29yWGFOXC94TDExUGJGcG5ReTdWMElWcDc0ZXJBeE5XemdLN2JTcjdibkdHZTZPR2xDU05FZ1pMbUd2UWMxcm8wZjhMQ01BYzNSNDlHT3ZwdnE4ZU02ODZJMThKVmQrTmFucWo2U1dsbHU3UGc9PSIsIm1hYyI6IjI5MTc1Yzk0YzUxYjY5NDMzN2EzMjQyYWMxOTEzYmNmYzY1NWUxY2JlNzNiYjU2YjQ4YjIyMzAzZDEyYWFjMWUifQ%3D%3D; XSRF-TOKEN=eyJpdiI6InBIQXZZWEFYbzVSR3JDN1hBcnJ5VEE9PSIsInZhbHVlIjoiSW1tTzlRUktHWEVhN1wvUllBQ3p4Vm1obGhBUkZ2OTgxQ1RGem5XTlwvRWF5dVwvQTEyUTU5TStVVHVucWtoTlh6bVBwdFwveXpjTDl3XC9kZFdLWXdTenRIQT09IiwibWFjIjoiZWZhNGIwOTNiZjc3NWRkNjE2OTNkNmZmYzAzYjBlNDViOTU5NGNiMDk3NDM5ZWY2ZGRjOGIwMzliMzE5Yzc1YSJ9; laravel_session=eyJpdiI6ImY5ZUdFdnV0bThJaU5hdzVUSG1kR0E9PSIsInZhbHVlIjoiWWR4YXo2d3EyOHhGdElzb2JhNHhuZTN1SHVxR2toMmtuWnVxam1rQk5EOHN4amRmSmNTRk9IViszMnhJWVZlakVCc1RDaTNlZnVZSFZrT1pIV2tFTWc9PSIsIm1hYyI6ImViMzFhYzNlODRkZTEyNzllNzY1OTgzM2E4Y2E2ZjYzZGIwNTlkYTU5MDRkZDFhNzA4NDg3MTM4MGNhMjk4ZTMifQ%3D%3D; _gat_gtag_UA_118297571_1=1; _pk_ref.1.5d5e=%5B%22%22%2C%22%22%2C1560530325%2C%22https%3A%2F%2Fwww.google.com%2F%22%5D; _pk_id.1.5d5e=4a50ffc12f23cbe7.1560433996.4.1560530325.1560530325.' -H 'Connection: keep-alive' -H 'Referer: https://essentialoils.org/db' --compressed)"
    echo "$content"  >> outputpcompounds.json
    sleep 2
done
